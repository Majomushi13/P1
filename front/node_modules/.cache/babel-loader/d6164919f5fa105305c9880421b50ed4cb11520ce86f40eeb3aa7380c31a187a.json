{"ast":null,"code":"import { parse, print } from 'graphql';\n/**\n * helpers\n */\nconst extractOperationName = document => {\n  let operationName = undefined;\n  const operationDefinitions = document.definitions.filter(definition => definition.kind === `OperationDefinition`);\n  if (operationDefinitions.length === 1) {\n    operationName = operationDefinitions[0]?.name?.value;\n  }\n  return operationName;\n};\nexport const resolveRequestDocument = document => {\n  if (typeof document === `string`) {\n    let operationName = undefined;\n    try {\n      const parsedDocument = parse(document);\n      operationName = extractOperationName(parsedDocument);\n    } catch (err) {\n      // Failed parsing the document, the operationName will be undefined\n    }\n    return {\n      query: document,\n      operationName\n    };\n  }\n  const operationName = extractOperationName(document);\n  return {\n    query: print(document),\n    operationName\n  };\n};","map":{"version":3,"names":["parse","print","extractOperationName","document","operationName","undefined","operationDefinitions","definitions","filter","definition","kind","length","name","value","resolveRequestDocument","parsedDocument","err","query"],"sources":["../../src/resolveRequestDocument.ts"],"sourcesContent":[null],"mappings":"AAEA,SAASA,KAAK,EAAEC,KAAK,QAAQ,SAAS;AAEtC;;;AAIA,MAAMC,oBAAoB,GAAIC,QAAsB,IAAwB;EAC1E,IAAIC,aAAa,GAAGC,SAAS;EAE7B,MAAMC,oBAAoB,GAAGH,QAAQ,CAACI,WAAW,CAACC,MAAM,CACrDC,UAAU,IAAKA,UAAU,CAACC,IAAI,KAAK,qBAAqB,CAC7B;EAE9B,IAAIJ,oBAAoB,CAACK,MAAM,KAAK,CAAC,EAAE;IACrCP,aAAa,GAAGE,oBAAoB,CAAC,CAAC,CAAC,EAAEM,IAAI,EAAEC,KAAK;;EAGtD,OAAOT,aAAa;AACtB,CAAC;AAED,OAAO,MAAMU,sBAAsB,GACjCX,QAAyB,IACoB;EAC7C,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;IAChC,IAAIC,aAAa,GAAGC,SAAS;IAE7B,IAAI;MACF,MAAMU,cAAc,GAAGf,KAAK,CAACG,QAAQ,CAAC;MACtCC,aAAa,GAAGF,oBAAoB,CAACa,cAAc,CAAC;KACrD,CAAC,OAAOC,GAAG,EAAE;MACZ;IAAA;IAGF,OAAO;MAAEC,KAAK,EAAEd,QAAQ;MAAEC;IAAa,CAAE;;EAG3C,MAAMA,aAAa,GAAGF,oBAAoB,CAACC,QAAQ,CAAC;EAEpD,OAAO;IAAEc,KAAK,EAAEhB,KAAK,CAACE,QAAQ,CAAC;IAAEC;EAAa,CAAE;AAClD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}